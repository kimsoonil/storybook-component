"use strict";(self.webpackChunkcmp=self.webpackChunkcmp||[]).push([[8442],{1806:function(t,e,a){a.d(e,{a:function(){return o}});a(2791),a(3541),a(1274);var s=a(184);function o(){return(0,s.jsxs)("div",{className:"loader",children:[(0,s.jsx)("div",{className:"dots"}),(0,s.jsx)("div",{className:"dots"}),(0,s.jsx)("div",{className:"dots"}),(0,s.jsx)("div",{className:"dots"}),(0,s.jsx)("div",{className:"dots"}),(0,s.jsx)("div",{className:"loader-text flex-center",children:"Loading..."})]})}o.defaultProps={}},2128:function(t,e,a){a.r(e);var s=a(1413),o=a(2982),n=a(885),i=a(2791),r=a(2613),c=a(9434),d=a(290),p=a(9802),u=a(4721),l=a(6871),f=a(1806),m=a(4114),_=(a(1304),a(3023),a(184));e.default=function(t){var e=(0,c.I0)(),a=(0,l.s0)(),g=(0,c.v9)((function(t){return t.club})).boardGroups,Z=(0,c.v9)((function(t){return t.board})),b=(0,c.v9)((function(t){return t.post})),v=b.posts,y=b.post,h=(0,l.UO)(),x=h.id,P=h.postId,k=(0,i.useState)([]),S=(0,n.Z)(k,2),E=S[0],N=S[1],j=(0,i.useState)([]),w=(0,n.Z)(j,2),C=w[0],L=w[1],O=(0,i.useState)(""),T=(0,n.Z)(O,2),V=T[0],D=T[1],I=(0,i.useState)(""),H=(0,n.Z)(I,2),J=H[0],U=H[1],A=(0,i.useState)(""),B=(0,n.Z)(A,2),G=B[0],K=B[1],M=(0,i.useState)(!1),q=(0,n.Z)(M,2),X=q[0],Y=q[1],z=(0,i.useState)(""),F=(0,n.Z)(z,2),Q=F[0],R=F[1],W=(0,i.useState)("Please select a Board"),$=(0,n.Z)(W,2),tt=$[0],et=$[1],at=(0,i.useState)({board:null,title:"",content:"",tags:[],is_temporary:!1,is_secret:!1,password:null,is_notice:!1,is_event:!1,is_search:!1,is_share:!1,is_comment:!1}),st=(0,n.Z)(at,2),ot=st[0],nt=st[1];return(0,i.useEffect)((function(){e((0,u.wO)()),e((0,d.ij)({id:x})),e((0,p.PV)({parameters:{is_temporary:!0}}))}),[]),(0,i.useEffect)((function(){void 0!==P&&e((0,p.ox)({id:P}))}),[P]),(0,i.useEffect)((function(){Z.post.data&&(Z.post.data.is_temporary||a("/club/".concat(Z.post.data.club,"/post/").concat(Z.post.data.id)))}),[Z.post]),(0,i.useEffect)((function(){"ok"===y.message&&void 0!==P&&(L((0,o.Z)(y.data.tags.map((function(t){return t})))),nt({board:y.data.board,title:y.data.title,content:y.data.content,tags:(0,o.Z)(y.data.tags.map((function(t){return t.title}))),is_temporary:y.data.is_temporary,is_secret:y.data.is_secret,password:y.data.password,is_notice:y.data.is_notice,is_event:y.data.is_event,is_search:y.data.is_search,is_share:y.data.is_share,is_comment:y.data.is_comment}),et(y.data.board_title))}),[y]),r.Jodit.plugins.add("preparePaste",(function(t){t.e.on("emoji",(function(e){if(confirm("Change pasted content?"))return t.e.stopPropagation("paste"),t.s.insertHTML(r.Jodit.modules.Helpers.getDataTransfer(e).getData(r.Jodit.constants.TEXT_HTML).replace(/a/g,"b")),!1}),{top:!0})})),"ok"!==g.message?(0,_.jsx)("div",{className:"flex-center",children:(0,_.jsx)(f.a,{})}):(0,_.jsx)(m.Z,{posts:v,type:"club",boardSelect:tt,closeSelect:function(t,e){nt((0,s.Z)((0,s.Z)({},ot),{},{board:e})),et(t),setOpenSelect(!1)},setBoardSelect:et,boardGroups:g,setPostsData:nt,onCheckedElement:function(t,e){switch(e){case"Comments":nt((0,s.Z)((0,s.Z)({},ot),{},{is_comment:!0}));break;case"Sharing":nt((0,s.Z)((0,s.Z)({},ot),{},{is_share:!0}));break;case"Notice":nt((0,s.Z)((0,s.Z)({},ot),{},{is_notice:!0}));break;case"Search":nt((0,s.Z)((0,s.Z)({},ot),{},{is_search:!0}));break;case"Search":nt((0,s.Z)((0,s.Z)({},ot),{},{is_event:!0}));break;case"secret":nt((0,s.Z)((0,s.Z)({},ot),{},{is_secret:!0}))}t?N([].concat((0,o.Z)(E),[e])):t||N(E.filter((function(t){return t!==e})))},onClickElement:function(t){"Notice"===t&&E.indexOf("secret")>-1&&(Y(!0),R("Notice posts cannot be set as secret posts.")),"secret"===t&&E.indexOf("Notice")>-1&&(Y(!0),R("You cannot set a notice for a secret message.")),"event"===t&&(E.indexOf("Notice")>-1?(Y(!0),R("Event posts cannot be set as Notice posts.")):E.indexOf("secret")>-1&&(Y(!0),R("Event posts cannot be set as secret posts")))},postsData:ot,postsCreate:function(t){if(console.log("postId",P),"temp"===t)console.log(11),nt((0,s.Z)((0,s.Z)({},ot),{},{is_temporary:!0}));else if(""===ot.title)return Y(!0),R("Please enter a title."),!1;return ot.is_secret&&ot.password.length<4?(alert("\ube44\ubc00\ubc88\ud638 4\uc790\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"),!1):null===ot.board?(Y(!0),R("Please select a bulletin board."),!1):void(void 0!==P?(e((0,p.Ow)({id:P,parameters:ot,actionList:[{type:p.PV.type,payload:{parameters:{is_temporary:!0}}}]})),setTimeout((function(){a("/club/".concat(y.data.club,"/post/").concat(y.data.id))}),500)):e((0,u.pi)({id:x,parameters:ot,actionList:[{type:p.PV.type,payload:{parameters:{is_temporary:!0}}}]})))},setTagVale:D,tagVale:V,tagList:C,tagEditId:J,tagKeyUP:function(t){var e={tag:C.length+1,title:V};"Enter"===t.key&&(L([].concat((0,o.Z)(C),[e])),nt((0,s.Z)((0,s.Z)({},ot),{},{tags:[].concat((0,o.Z)(ot.tags),[e.title])})),D(""))},tagEditer:function(t){U(t.tag),K(t.title)},tagEditKeyUP:function(t,e){if("Enter"===t.key){var a=C.findIndex((function(t){return t.tag==e})),n=(0,o.Z)(C);-1!=a&&(n[a]=(0,s.Z)((0,s.Z)({},n[a]),{},{title:t.target.value})),L(n),U(""),K("")}},tagDelect:function(t){L(C.filter((function(e){return e.tag!==t})))},setTagEditValue:K,tagEditValue:G,tempAllDetele:function(){e((0,d.qp)({id:x,actionList:[{type:p.PV.type,payload:{parameters:"is_temporary=true"}}]}))},tempSelectDetele:function(t){e((0,p.TA)({id:t,actionList:[{type:p.PV.type,payload:{parameters:"is_temporary=true"}}]}))},checkedList:E,setPwdPopupOpen:Y,pwdPopupOpen:X,setPopupContent:R,popupContent:Q,setCheckedList:N})}}}]);
//# sourceMappingURL=8442.1d76a141.chunk.js.map