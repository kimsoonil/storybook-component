"use strict";(self.webpackChunkcmp=self.webpackChunkcmp||[]).push([[9575],{44545:function(e,s,a){a.r(s),a.d(s,{default:function(){return B}});var n=a(70885),i=a(72791),r=a(91230),c=a(27126),l=a(154),t=a(41142),d=a(12884),o=(a(93301),a(52799)),m=a(73506),u=a(54713),A=a(80184);var h=function(e){var s=e.imgSrc;return s||(s="data:image/png;base64,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"),(0,A.jsx)("div",{className:"user_avatar",children:(0,A.jsx)("div",{className:"user_avatar_img",children:(0,A.jsx)("img",{src:s,alt:""})})})},v=a(72426),x=a.n(v),j=function(e){var s=x()(new Date),a=x().duration(s.diff(e)),n=a.asSeconds(),i=a.asMinutes(),r=a.asHours();return i<1?"".concat(parseInt(n,10),"s"):r<1?"".concat(parseInt(i,10),"m"):r<24?"".concat(parseInt(r,10),"h"):function(e){var s=(new Date).getTime(),a=x().unix(13===s.toString().length?s/1e3:s).format("MM/DD"),n=x().unix(13===e.toString().length?e/1e3:e).format("MM/DD");return"Invalid date"===n&&(n=""),a===n?x().unix(13===e.toString().length?e/1e3:e).format("HH:mm"):n}(e)};var g=function(e){var s=e.msg,a=e.handleDeleteMessage,n=e.mine,i=s.sender,r=s.createdAt,c=s.url,l=s.message;if(!i)return(0,A.jsx)("div",{});var t=i.plainProfileUrl,d=i.nickname;return(0,A.jsxs)("div",{className:"message_item ".concat(n&&"mine"),children:[(0,A.jsx)("div",{className:"message_avatar",children:(0,A.jsx)(h,{imgSrc:t})}),(0,A.jsxs)("div",{className:"message_author_contents",children:[(0,A.jsx)("div",{className:"message_author",children:d}),(0,A.jsxs)("div",{className:"message_contents",children:[(0,A.jsx)("div",{className:"contents",children:c?(0,A.jsx)("div",{className:"contents_image",children:(0,A.jsx)("img",{src:c,alt:""})}):(0,A.jsx)("p",{children:l})}),(0,A.jsx)("div",{className:"send_time",children:(0,A.jsx)("p",{children:j(r)})})]})]}),(0,A.jsx)("div",{className:"control-bottons",children:(0,A.jsx)("button",{className:"delete-button",onClick:function(){return a(s)},children:(0,A.jsx)("img",{className:"message-icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAIVBMVEVHcEynp6umqKqnqKunqaqqqq+np6umqKunqKqnqKunqKsvoXiqAAAACnRSTlMAQMB/5xigj9BqHTgDAgAAAFpJREFUGNNjYCAehCkppcI5GcbGbXCOIwPDFChzutISFxcvpUqIoiWrgMALopBxAYjkEsDGYRVgDIBzGBdwCVDEYTVgD8BuDxKHdbkxEFQFQJwtpAQEisSHBQDRdRoWFlEynAAAAABJRU5ErkJggg==",alt:""})})})]})};var N=function(e){var s=e.coverUrl,a=e.name,r=e.notices,c=e.memberCount,l=e.SetMemberList,t=(0,i.useState)(r.length>0?r.length-1:0),d=(0,n.Z)(t,2),o=d[0],m=d[1],u=(0,i.useCallback)((function(e){var s=e+o;s>=0&&s<r.length&&m(s)}),[o]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:"channel_header",children:(0,A.jsx)("div",{className:"header_inner",children:(0,A.jsxs)("div",{className:"header_main",children:[(0,A.jsx)("img",{src:s,alt:""}),(0,A.jsxs)("div",{className:"header_title_description",children:[(0,A.jsxs)("div",{className:"header_title",children:[(0,A.jsx)("div",{className:"title ellipsis",children:a}),(0,A.jsx)("div",{className:"action_icons",children:(0,A.jsx)("button",{className:"more_button",alt:"","aria-label":"more"})})]}),(0,A.jsxs)("div",{className:"header_bottom",children:[(0,A.jsx)("div",{className:"header_description ellipsis",children:"Welcome to ".concat(a,".")}),(0,A.jsx)("div",{className:"header_memberCount",children:(0,A.jsx)("button",{onClick:function(){return l((function(e){return!e}))},className:"member_display",children:(0,A.jsxs)("span",{children:["Members",(0,A.jsx)("span",{children:c}),"/ 100"]})})})]})]})]})})}),r.length>0&&(0,A.jsxs)("div",{className:"notices",children:[(0,A.jsx)("div",{className:"notice_avatar",children:(0,A.jsx)(h,{})}),(0,A.jsxs)("div",{className:"notice_info",children:[(0,A.jsx)("div",{className:"notice_message",children:r[o].message}),(0,A.jsx)("div",{className:"notice_time",children:j(r[o].createdAt)})]}),(0,A.jsxs)("div",{className:"control_buttons",children:[(0,A.jsx)("button",{className:"button_prev",onClick:function(){return u(-1)},alt:"","aria-label":"prev"}),(0,A.jsx)("button",{className:"button_next",onClick:function(){return u(1)},alt:"","aria-label":"next"})]})]})]})};var p=function(e){var s=e.SetMemberList,a=(0,u.AS)().stores.userStore.user,n=(0,c.v)(),i=n.currentGroupChannel,r=n.initialized,l=n.allMessages,t=n.loading,d=n.deleteMessage;if(t||!r)return(0,A.jsx)(o.Z,{type:o.v.LOADING});var h=l.filter((function(e){return"admin"===e.messageType})),v=i.coverUrl,x=i.name,j=i.memberCount;return(0,A.jsx)(m.Z,{renderChannelHeader:function(){return(0,A.jsx)(N,{coverUrl:v,name:x,memberCount:j,notices:h,SetMemberList:s})},renderCustomSeparator:function(){return(0,A.jsx)("div",{})},renderMessage:function(e){if(e.message.sender&&"admin"!==e.message.messageType)return(0,A.jsx)(g,{msg:e.message,handleDeleteMessage:d,mine:e.message.sender.userId===a.userId})}})};var f=function(e){var s=e.setCurrentChannel,a=(0,l.w)(),n=a.currentChannel,r=a.allChannels,c=a.initialized,t=a.loading,d=a.channelListDispatcher,m=(0,i.useCallback)((function(e){s(e.url),d({type:"SET_CURRENT_CHANNEL",payload:e})}),[]);return(0,i.useEffect)((function(){n&&m(n)}),[n]),t||!c?(0,A.jsx)(o.Z,{type:o.v.LOADING}):(0,A.jsx)("div",{className:"custom_list",children:r.map((function(e){return(0,A.jsx)("button",{className:"list_item ".concat(e.url===n.url&&"selected"),onClick:function(){return m(e)},onKeyDown:function(){},children:(0,A.jsxs)("div",{className:"channel_list_item",children:[(0,A.jsx)("img",{className:"channel_img",src:e.coverUrl,alt:""}),(0,A.jsxs)("div",{className:"channel_description",children:[(0,A.jsx)("div",{className:"channel_name ellipsis",children:(0,A.jsx)("p",{children:e.name})}),(0,A.jsx)("div",{className:"channel_additional_info ellipsis",children:e.lastMessage.message})]}),(0,A.jsxs)("div",{className:"channel_list_action",children:[e.unreadMessageCount>0?(0,A.jsx)("div",{className:"message_count",children:(0,A.jsx)("div",{children:e.unreadMessageCount})}):(0,A.jsx)("div",{}),(0,A.jsx)("div",{className:"channel_type_icons",children:(0,A.jsx)("div",{className:"ic_lock_bk"})})]})]})},"channel-".concat(e.url))}))})};var b=function(e){var s=e.title;return(0,A.jsxs)("div",{className:"list_header",children:[(0,A.jsxs)("div",{className:"title",children:[(0,A.jsx)("p",{children:s}),(0,A.jsx)("button",{children:(0,A.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEVHcEwkKjskKjxZTVglAAAAAnRSTlMA0PBAH+wAAAAfSURBVAjXY2AgHTA6gCmmBkyKcdUqBwSFVQlMO2kAADKwBrkfNBDjAAAAAElFTkSuQmCC",alt:""})})]}),(0,A.jsx)("div",{className:"search_bar",children:(0,A.jsx)("input",{placeholder:"Search ..."})})]})},_=[a.p+"static/media/bg1.8088ddcd31caba3282d4.png",a.p+"static/media/bg2.10a6d53285e5d87cea17.png",a.p+"static/media/bg3.95f6b3042082714cc4e1.png"];var S=a.p+"static/media/mic.6021981288cc0c0376156f902382253a.svg";var C=a.p+"static/media/headphone.d3711fef897bd6b13bd1676da93d75f1.svg";var V=function(e){var s=e.role;return"operator"!==s?null:(0,A.jsx)("div",{className:"role_badge",children:(0,A.jsx)("span",{children:s})})};var Z=function(){var e=(0,u.AS)().stores.userStore.user,s=(0,l.w)(),a=s.currentChannel,n=s.initialized,i=s.loading;if(!n)return(0,A.jsx)(o.Z,{type:o.v.LOADING});if(i)return(0,A.jsx)(o.Z,{type:o.v.LOADING});var r=e.plainProfileUrl,c=e.nickname;return(0,A.jsxs)("div",{className:"custom_profile_card",children:[(0,A.jsx)("div",{className:"profile_background",style:{backgroundImage:"url(".concat(_[1],")")},children:(0,A.jsx)("div",{className:"center_avatar_container",children:(0,A.jsx)(h,{imgSrc:r})})}),(0,A.jsxs)("div",{className:"name_memo_div",children:[(0,A.jsxs)("div",{className:"name_div",children:[(0,A.jsx)("div",{className:"role_container",children:function(){if(!a)return(0,A.jsx)("div",{});var s=a.members.filter((function(s){return s.userId===e.userId}))[0].role;return(0,A.jsx)(V,{role:s})}()}),(0,A.jsx)("div",{className:"name ellipsis",children:c}),(0,A.jsx)("div",{className:"spacer"})]}),(0,A.jsx)("div",{className:"memo ellipsis",children:"Have a nice day"})]}),(0,A.jsxs)("div",{className:"bottom_div",children:[(0,A.jsxs)("div",{className:"controller_mic",children:[(0,A.jsx)("img",{src:S,alt:""}),(0,A.jsx)("input",{type:"range",defaultValue:0})]}),(0,A.jsxs)("div",{className:"controller_headphone",children:[(0,A.jsx)("img",{src:C,alt:""}),(0,A.jsx)("input",{type:"range",defaultValue:0})]})]})]})};var M=function(){var e=(0,t._)().channel;if(!e)return(0,A.jsx)(o.Z,{type:o.v.LOADING});var s=e.members;return(0,A.jsx)("div",{className:"custom_list",children:s.map((function(s){var a=s.profileUrl,n=s.role,i=s.nickname,r=s.connectionStatus;return(0,A.jsx)("button",{className:"list_item",onClick:function(){},onKeyDown:function(){},children:(0,A.jsxs)("div",{className:"member_list_item",children:[(0,A.jsx)("div",{className:"member_avatar",children:(0,A.jsx)(h,{imgSrc:a})}),(0,A.jsx)("div",{className:"member_role",children:(0,A.jsx)(V,{role:n})}),(0,A.jsx)("div",{className:"member_name ellipsis",children:i}),(0,A.jsx)("div",{className:"member_status",children:(0,A.jsx)("div",{className:"".concat(r)})})]})},"".concat(e.url,"-member-").concat(s.userId))}))})},y=(0,d.c)("persist:root"),L=JSON.parse(JSON.parse(y).logIn).user,k=L.account_id,U=L.nickname;var B=function(){(0,i.useEffect)((function(){var e,s=window,a=s.outerWidth,n=s.outerHeight,i=function(){clearTimeout(e),e=setTimeout((function(){console.log("resizeEnd"),window.resizeTo(a,n)}),250)};return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),[]),(0,i.useEffect)((function(){document.body.classList.add("body_chat")}),[]);var e=(0,i.useState)(""),s=(0,n.Z)(e,2),a=s[0],d=s[1],o=(0,i.useState)(!0),m=(0,n.Z)(o,2),u=m[0],h=m[1],v=(0,i.useState)(!1),x=(0,n.Z)(v,2),j=x[0],g=x[1];return(0,A.jsx)("div",{className:"chat_main_div",children:(0,A.jsxs)(r.Z,{appId:"AE468074-7252-4F34-B74B-63AAC9359590",userId:"".concat(k),nickname:"".concat(U),children:[j&&(0,A.jsxs)("div",{className:"toolbar",onMouseLeave:function(){j&&g(!1)},children:[(0,A.jsx)("div",{}),(0,A.jsx)("div",{}),(0,A.jsx)("div",{}),(0,A.jsx)("div",{}),(0,A.jsx)("div",{}),(0,A.jsx)("div",{})]}),(0,A.jsxs)("div",{className:"chat_div",children:[(0,A.jsx)("button",{"aria-label":"toolbar",className:"toolbar_handle",onClick:function(){j||g(!0)}}),(0,A.jsx)("div",{className:"side_div",children:(0,A.jsxs)(l.p,{channelUrl:a,className:"sendbird_channel_list_provider",allowProfileEdit:!0,children:[(0,A.jsx)("div",{className:"profile chat_widget",children:(0,A.jsx)(Z,{})}),(0,A.jsxs)("div",{className:"channel chat_widget",children:[(0,A.jsx)(b,{title:"Channel"}),(0,A.jsx)(f,{setCurrentChannel:d})]})]})}),(0,A.jsx)("div",{className:"center_div",children:(0,A.jsx)("div",{className:"chat chat_widget",children:(0,A.jsx)(c.m,{className:"sendbird_channle_provider",channelUrl:a,children:(0,A.jsx)(p,{SetMemberList:h})})})}),u&&(0,A.jsx)("div",{className:"side_div",children:(0,A.jsx)(t.d,{className:"sendbird_channel_list_provider",channelUrl:a,children:(0,A.jsxs)("div",{className:"member chat_widget",children:[(0,A.jsx)(b,{title:"Members"}),(0,A.jsx)(M,{})]})})})]})]})})}}}]);
//# sourceMappingURL=9575.aa3b6055.chunk.js.map