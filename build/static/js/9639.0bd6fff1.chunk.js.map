{"version":3,"file":"static/js/9639.0bd6fff1.chunk.js","mappings":"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","sources":["utils/formatter.js","views/Admin/Dashboard.js"],"sourcesContent":["export const numFM = (value) => {\n  if (typeof value === 'number') {\n    if (value >= 1000) {\n      const str = value.toString();\n      const len = str.length;\n      const pos = ((len - 1) % 3) + 1; // 1의 자리\n      const suffixes = ['', 'k', 'm', 'b', 't'];\n      const suffixNum = Math.floor(len - 1);\n      return (\n        (str[len - 1] === '0' ? str.slice(0, pos) : str.slice(0, pos) + '.' + str.slice(pos, pos + 1)) +\n        suffixes[suffixNum]\n      );\n    }\n  }\n  return value;\n};\n\nexport const fileSizeFM = (value, decimals = 1) => {\n  if (typeof value === 'number') {\n    if (value === 0) {\n      return '0';\n    }\n    const k = 1024;\n    const suffixes = ['byte', 'kb', 'mb', 'gb', 'tb', 'pb', 'eb', 'zb', 'yb'];\n    const suffixNum = Math.floor(Math.log(value) / Math.log(k));\n    return `${parseFloat((value / Math.pow(k, suffixNum)).toFixed(decimals))} ${suffixes[suffixNum]}`;\n  }\n  return value;\n};\n","import React, { useEffect, useLayoutEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport 'assets/scss/admin/dashboard.scss';\nimport { useNavigate, useOutletContext } from 'react-router';\nimport { numFM } from 'utils/formatter';\nimport idistApi from 'redux/idistApi';\nimport { getClubDashboardInit } from 'redux/idistStore/admin/dashboardAdminSlice';\n\nconst Dashboard = () => {\n  const dispatch = useDispatch();\n\n  const outlet = useOutletContext();\n  const clubId = outlet.club.id || 22;\n\n  const dashboard = useSelector((state) => state.dashboardAdmin.dashboard);\n  const isLoading = useSelector((state) => state.dashboardAdmin.dashboardLoading);\n\n  // commentCount: 0\n  // memberCount: 1\n  // postCount: 0\n  // viewCount: 0\n  // dailyCommentCount: 0\n  // dailyMemberCount: 0\n  // dailyPostCount: 0\n  // dailyViewCount: 0\n\n  useLayoutEffect(() => {\n    if (clubId) {\n      dispatch(getClubDashboardInit({ id: clubId }));\n    }\n  }, []);\n\n  const statisticsList = useMemo(\n    () => [\n      { title: 'Visits', total: numFM(dashboard?.view_count), today: numFM(dashboard?.daily_view_count) },\n      { title: 'Posts', total: numFM(dashboard?.post_count), today: numFM(dashboard?.daily_post_count) },\n      { title: 'Comments', total: numFM(dashboard?.comment_count), today: numFM(dashboard?.daily_comment_count) },\n      { title: 'Members', total: numFM(dashboard?.member_count), today: numFM(dashboard?.daily_member_count) }\n    ],\n    [dashboard]\n  );\n\n  const menuList = useMemo(\n    () => [\n      { title: 'Statistics', desc: `Plan your club's future with statistics`, path: '/manage/statistics' },\n      { title: 'Boards', desc: `Manage bulletin boards and bulletin board groups in the menu`, path: '/manage/boards' },\n      { title: 'Posts', desc: `Manage posts for a clean bulletin board`, path: '/manage/posts' },\n      { title: 'Member', desc: `Manage your staff and members`, path: '/manage/member' },\n      { title: 'Permissions', desc: `Manage staff privileges for convenient operation`, path: '/manage/permissions' },\n      { title: 'Information', desc: `Manage your club's information`, path: '/manage/information' },\n      { title: 'Design', desc: `Design your club to attract attention`, path: '/manage/design' },\n      { title: 'Operation', desc: `Make important decisions for your club`, path: '/manage/operation' }\n    ],\n    []\n  );\n\n  if (isLoading) {\n    return null;\n  }\n\n  return (\n    <div className=\"dashboard\">\n      <div className=\"dashboard-section\">\n        <div className=\"text-h3\">Statistics</div>\n\n        <div className=\"dashboard-item-wrapper\">\n          {statisticsList.map((item, index) => (\n            <StatisticsItem key={index} data={item} />\n          ))}\n        </div>\n      </div>\n\n      <div className=\"dashboard-section\">\n        <div className=\"text-h3\">Menu</div>\n\n        <div className=\"dashboard-item-wrapper\">\n          {menuList.map((item, index) => (\n            <MenuItem key={index} data={item} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n\nconst StatisticsItem = ({ data }) => {\n  return (\n    <div className=\"dashboard-item\">\n      <div className=\"text-h4 statistic-item-title\">{data.title}</div>\n      <div className=\"statistic-item-value-wrapper\">\n        <div className=\"statistic-item-value\">\n          <div className=\"text-h2\">{data.total}</div>\n          <div className=\"text-h4\">Total</div>\n        </div>\n        <div className=\"statistic-item-value\">\n          <div className=\"text-h2\">{data.today}</div>\n          <div className=\"text-h4\">Today</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst MenuItem = ({ data }) => {\n  const navigate = useNavigate();\n\n  return (\n    <div className=\"dashboard-menu-item\" onClick={() => navigate(data.path)}>\n      <div className=\"text-h4 menu-item-title\">{data.title}</div>\n      <div className=\"text-h5 menu-item-desc\">{data.desc}</div>\n    </div>\n  );\n};\n"],"names":["numFM","value","str","toString","len","length","pos","suffixNum","Math","floor","slice","fileSizeFM","decimals","k","suffixes","log","parseFloat","pow","toFixed","dispatch","useDispatch","clubId","useOutletContext","club","id","dashboard","useSelector","state","dashboardAdmin","isLoading","dashboardLoading","useLayoutEffect","getClubDashboardInit","statisticsList","useMemo","title","total","view_count","today","daily_view_count","post_count","daily_post_count","comment_count","daily_comment_count","member_count","daily_member_count","menuList","desc","path","className","map","item","index","StatisticsItem","data","MenuItem","navigate","useNavigate","onClick"],"sourceRoot":""}