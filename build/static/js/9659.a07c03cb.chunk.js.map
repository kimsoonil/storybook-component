{"version":3,"file":"static/js/9659.a07c03cb.chunk.js","mappings":"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","sources":["components/idist/PostsList.js","components/idist/popup/inputPopup.js","utils/dateCalculation.js","views/Search/SearchAll.js"],"sourcesContent":["/* eslint-disable */\n\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { dateCalculation } from 'utils/dateCalculation';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { getPostsInit, getMorePostsInit } from 'redux/idistStore/postsSlice';\nimport { getTagsInit } from 'redux/idistStore/tagSlice';\n\nimport InputPopup from 'components/idist/popup/inputPopup';\nimport { Button } from 'components/idist/Button';\nimport { Loader } from 'components/idist/Loader';\nimport 'assets/scss/search.scss';\n\nfunction PostsList(props) {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [secretOpen, setSecretOpen] = useState(false);\n  const [selectTag, setSelectTag] = useState('');\n  const { tags } = useSelector((state) => state.tag);\n  const [postData, setPostData] = useState();\n  const [postPassword, setPostPassword] = useState();\n  const { posts, postsList } = useSelector((state) => state.post);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [isBottom, setIsBottom] = useState(false);\n  const limit = props.limit;\n  const search = searchParams.get('search');\n  let parameters = {\n    search: search,\n    tag_title: selectTag,\n    page_size: limit\n  };\n\n  useEffect(() => {\n    dispatch(getPostsInit({ parameters: parameters }));\n    dispatch(getTagsInit());\n  }, [searchParams, selectTag]);\n\n  useEffect(() => {\n    setPostPassword('');\n  }, [secretOpen]);\n\n  const handleClickPosts = (postsItem) => {\n    if (postsItem.is_secret) {\n      setSecretOpen(!secretOpen);\n      setPostData(postsItem);\n    } else {\n      navigate(`/club/${postsItem.club}/post/${postsItem.id}`);\n    }\n  };\n  const secretPosts = () => {\n    if (postPassword == postData.password) {\n      navigate(`/club/${postData.club}/post/${postData.id}`);\n    } else {\n      alert('비밀번호가 다릅니다.');\n    }\n  };\n  const handleClickTag = (item) => {\n    if (selectTag === item) {\n      setSelectTag('');\n    } else {\n      setSelectTag(item);\n    }\n  };\n  useEffect(() => {\n    if (isBottom) {\n      dispatch(getMorePostsInit({ parameters: parameters }));\n\n      setIsBottom(false);\n    }\n  }, [isBottom, postsList, dispatch, setIsBottom]);\n\n  function handleUserScroll() {\n    const scrollTop = document.documentElement.scrollTop;\n    const scrollHeight = document.documentElement.scrollHeight;\n\n    if (scrollTop + window.innerHeight + 50 >= scrollHeight) {\n      setIsBottom(true);\n    }\n  }\n  useEffect(() => {\n    if (props.searchTab !== 'posts') return;\n    window.addEventListener('scroll', handleUserScroll);\n    return () => window.removeEventListener('scroll', handleUserScroll);\n  }, []);\n\n  if (posts.message !== 'ok')\n    return (\n      <div className=\"flex-center\">\n        <Loader />\n      </div>\n    );\n  return (\n    <div className=\"search-post\">\n      <div className=\"flex-between\">\n        <div className=\"search-club-title\">{posts.count} Posts</div>\n        <div className=\"list-filter flex-center\">\n          <div className=\"flex-center active\">Hot</div>\n          <div className=\"flex-center\">Popular</div>\n          <div className=\"flex-center\">New</div>\n        </div>\n      </div>\n      <div className=\"tags\">\n        {tags.message !== 'ok' ? (\n          <div className=\"flex-center\">\n            <Loader />\n          </div>\n        ) : (\n          tags.data.map((item, index) => {\n            if (index < 15) {\n              return (\n                <div\n                  className={'item flex-center ' + (selectTag === item.title ? 'active' : '')}\n                  key={index}\n                  onClick={() => handleClickTag(item.title)}\n                >\n                  # {item.title}\n                </div>\n              );\n            }\n          })\n        )}\n      </div>\n      <div className=\"posts-list\">\n        {postsList.length > 0 ? (\n          postsList.map((postsItem, index) => {\n            return (\n              <div\n                className=\"posts-list-item relative\"\n                key={index}\n                style={{ borderTop: index < 2 ? '0' : '1px solid #cdcdd1' }}\n                onClick={() => handleClickPosts(postsItem)}\n              >\n                <div className=\"posts-list-item-container\">\n                  <div className=\"posts-list-item-title\">\n                    {postsItem.title} {postsItem.is_secret && <img src={require('images/club/ic-lock.png')} alt=\"\" />}\n                  </div>\n                  <div\n                    className=\"posts-list-item-content\"\n                    dangerouslySetInnerHTML={{ __html: postsItem.content }}\n                  ></div>\n                  <div className=\"posts-list-item-profile\">\n                    <div className=\"posts-list-item-profile-img\">\n                      <img\n                        onError={({ currentTarget }) => {\n                          currentTarget.onerror = null; // prevents looping\n                          currentTarget.src = require('images/main/temporary-profile.png');\n                        }}\n                        src={postsItem.user.profile_image_url}\n                      />\n                    </div>\n                    <div>\n                      <div className=\"posts-list-item-nick\">\n                        {postsItem.profile.user.username}\n                        {postsItem?.profile?.staff_title === null ? (\n                          <>\n                            <div className=\"profile-rating flex-center\">{postsItem?.profile?.grade_title}</div>\n                            <div className=\"profile-level\">LV {postsItem?.profile?.level}</div>\n                          </>\n                        ) : (\n                          <div className=\"profile-staff flex-center\">{postsItem?.profile?.staff_title}</div>\n                        )}\n                      </div>\n                      <div className=\"posts-list-item-info\">\n                        <div className=\"flex-center\">\n                          <img src={require('images/main/icon-view.png')} /> {postsItem.view_count}\n                        </div>\n                        <div className=\"flex-center\">\n                          <img src={require('images/main/icon-comment.png')} /> {postsItem.comment_count}\n                        </div>\n                        <div className=\"flex-center\">{dateCalculation(postsItem.created)}</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"posts-img \">\n                  <img src={postsItem.thumbnail_image_url} alt=\"\" />\n                </div>\n              </div>\n            );\n          })\n        ) : (\n          <div className=\"no-data flex-center\">\n            <div>\n              <img src={require('images/Error/img_error_page.png')} alt=\"\" />\n            </div>\n            <div className=\"no-data-title\">No search results found</div>\n            <div className=\"no-data-content\">Try searching with a different keyword.</div>\n          </div>\n        )}\n        <InputPopup\n          open={secretOpen}\n          setOpen={setSecretOpen}\n          value={postPassword}\n          setValue={setPostPassword}\n          secretPosts={secretPosts}\n        />\n      </div>\n      {props.searchTab === 'posts' ? (\n        posts.count === postsList.length || postsList.length <= 0 ? (\n          <div></div>\n        ) : (\n          <div className=\"flex-center\">\n            <Loader />\n          </div>\n        )\n      ) : posts.count > 20 ? (\n        <div className=\"flex-center\">\n          <Button\n            size=\"l\"\n            label={'More'}\n            width={116}\n            onClick={() => {\n              navigate('/clubs/search/posts');\n            }}\n          />\n        </div>\n      ) : (\n        <div></div>\n      )}\n    </div>\n  );\n}\n\nexport default PostsList;\n","/* eslint-disable */\n\nimport React, { useState } from 'react';\n\nimport 'assets/scss/popup.scss';\nimport { Button } from 'components/idist/Button';\n\nfunction InputPopup(props) {\n  return (\n    <div className=\"popup-shadow flex-center\" style={{ display: props.open ? 'flex' : 'none' }}>\n      <div className=\"inputPopup \">\n        <div className=\"inputPopup-title flex-center\">Please enter your password.</div>\n        <div className=\"inputPopup-content flex-center\">\n          Password <input type=\"number\" vlaue={props.value} onChange={(e) => props.setValue(e.target.value)} />\n        </div>\n        <div className=\"inputPopup-actions flex-center\">\n          <Button label={'Cancel'} primary=\"cancel\" size=\"m\" width={120} onClick={() => props.setOpen(!props.open)} />\n          <Button label={'Check'} size=\"m\" width={120} onClick={() => props.secretPosts()} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default InputPopup;\n","import dayjs from 'dayjs';\n\nexport function dateCalculation(props) {\n  let resultDate = '';\n  const date1 = dayjs(new Date(), 'YYYY-MM-DD HH:mm');\n  const date2 = dayjs(props, 'YYYY-MM-DD HH:mm');\n\n  const years = date1.diff(date2, 'y');\n  const days = date1.diff(date2, 'd');\n  const hours = date1.diff(date2, 'hours');\n  const minute = date1.diff(date2, 'm');\n\n  if (minute <= 60) {\n    resultDate = `${minute}m ago`;\n  } else if (minute > 60 && hours <= 24) {\n    resultDate = `${hours}h ago`;\n  } else if (hours > 24 && days <= 7) {\n    resultDate = `${days}d ago`;\n  } else if (days > 7 && years < 1) {\n    resultDate = dayjs(date2).format('MMM. D');\n  } else if (years >= 1) {\n    resultDate = dayjs(date2).format('MMM. D YYYY');\n  }\n  return resultDate;\n}\n","/* eslint-disable */\n\nimport React, { useState } from 'react';\n\nimport 'assets/scss/search.scss';\nimport ClubsList from 'components/idist/ClubsList';\nimport PostsList from 'components/idist/PostsList';\n\nfunction Search() {\n  const searchTab = window.location.pathname.split('/');\n  return (\n    <div>\n      <ClubsList limit={12} searchTab={searchTab[3]} />\n      <PostsList limit={10} searchTab={searchTab[3]} />\n    </div>\n  );\n}\n\nexport default Search;\n"],"names":["props","dispatch","useDispatch","navigate","useNavigate","useState","secretOpen","setSecretOpen","selectTag","setSelectTag","tags","useSelector","state","tag","postData","setPostData","postPassword","setPostPassword","post","posts","postsList","useSearchParams","searchParams","isBottom","setIsBottom","limit","parameters","search","get","tag_title","page_size","handleUserScroll","scrollTop","document","documentElement","scrollHeight","window","innerHeight","useEffect","getPostsInit","getTagsInit","getMorePostsInit","searchTab","addEventListener","removeEventListener","message","className","count","data","map","item","index","title","onClick","handleClickTag","length","postsItem","style","borderTop","is_secret","club","id","handleClickPosts","src","require","alt","dangerouslySetInnerHTML","__html","content","onError","currentTarget","onerror","user","profile_image_url","profile","username","staff_title","grade_title","level","view_count","comment_count","dateCalculation","created","thumbnail_image_url","open","setOpen","value","setValue","secretPosts","password","alert","size","label","width","display","type","vlaue","onChange","e","target","primary","resultDate","date1","dayjs","Date","date2","years","diff","days","hours","minute","format","location","pathname","split"],"sourceRoot":""}