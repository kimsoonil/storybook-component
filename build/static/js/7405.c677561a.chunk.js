"use strict";(self.webpackChunkcmp=self.webpackChunkcmp||[]).push([[7405],{8727:function(s,e,t){var i=t(2791),a=t(9434),n=t(1806),c=t(9802),l=(t(1304),t(3541),t(3169)),o=t(184);e.Z=function(s){var e=(0,a.I0)(),r=(0,a.v9)((function(s){return s.post})).posts;return(0,i.useEffect)((function(){e((0,c.PV)({parameters:""}))}),[]),"ok"!==r.message?(0,o.jsx)("div",{className:"flex-center",children:(0,o.jsx)(n.a,{})}):(0,o.jsxs)("div",{className:"club-home-content hotPosts",children:[(0,o.jsxs)("div",{className:"flex-between",children:[(0,o.jsx)("div",{className:"side-box-title",children:"Hot Posts"}),(0,o.jsx)("div",{className:"see-all",children:"See all"})]}),(0,o.jsx)("div",{className:"hotPosts-content",children:r.data.map((function(s,e){if(e<6)return(0,o.jsxs)("div",{className:"hotPosts-content-list flex-between",children:[(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)("div",{className:"hotPosts-content-name",children:s.profile.user.username}),(0,o.jsx)("div",{className:"hotPosts-content-title",children:s.title}),(0,o.jsxs)("div",{className:"hotPosts-content-info",children:[(0,o.jsx)("img",{src:t(3419)}),s.view_count," ",(0,l.M)(s.created)]})]}),(0,o.jsx)("div",{children:null!==s&&void 0!==s&&s.thumbnail_image_url?(0,o.jsx)("img",{src:s.thumbnail_image_url}):(0,o.jsx)("div",{})})]},e)}))})]})}},2141:function(s,e,t){t.r(e),t.d(e,{default:function(){return b}});var i=t(885),a=t(2791),n=t(9434),c=t(4721),l=t(6871),o=t(3922),r=t(1806),d=t(5024),u=t(8727),m=t(1900),x=t(3131),v=t(9454),f=t(6627),h=t(6031),j=t(184);var p=function(s){var e,n,c,l,o=(0,a.useState)(!1),r=(0,i.Z)(o,2),d=r[0],u=r[1];return(0,j.jsxs)("div",{className:"club-home-content ",children:[(0,j.jsxs)("div",{className:"flex-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"club-home-title",children:null===(e=s.board)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.title}),(0,j.jsx)("div",{className:"club-home-description",children:null===(c=s.board)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.description})]}),(0,j.jsxs)("div",{className:"flex-center  relative",children:[(0,j.jsx)("input",{type:"text",className:"post-fliter"}),(0,j.jsx)("div",{className:"fliter-icon ",onClick:function(){return u(!d)},children:(0,j.jsx)("img",{src:t(6795),alt:""})}),(0,j.jsx)("div",{className:"fliter-position",style:{display:d?"flex":"none"},children:(0,j.jsx)(f.Z,{doneFuc:function(){return u(!d)}})})]})]}),(0,j.jsxs)("div",{className:"flex-between",children:[(0,j.jsx)("div",{className:"club-list-tag",children:(0,j.jsxs)("div",{className:"list-filter flex-center",children:[(0,j.jsx)("div",{className:"flex-center active",children:"Hot"}),(0,j.jsx)("div",{className:"flex-center",children:"Popular"}),(0,j.jsx)("div",{className:"flex-center",children:"New"})]})}),(0,j.jsxs)("div",{className:"flex-center",children:[(0,j.jsxs)("div",{className:"feed",children:["My feed",(0,j.jsx)(h.Z,{id:"myFeed"})]}),(0,j.jsxs)("div",{className:"board-state",children:[(0,j.jsx)("div",{className:"album "+("ALBUM_TYPE"===s.postsState&&"active"),onClick:function(){s.setPostsState("ALBUM_TYPE")}}),(0,j.jsx)("div",{className:"list "+("LIST_TYPE"===s.postsState&&"active"),onClick:function(){s.setPostsState("LIST_TYPE")}}),(0,j.jsx)("div",{className:"card "+("CARD_TYPE"===s.postsState&&"active"),onClick:function(){s.setPostsState("CARD_TYPE")}})]})]})]}),"ALBUM_TYPE"===s.postsState&&(0,j.jsx)(m.Z,{DataList:s.postsList,posts:s.posts}),"LIST_TYPE"===s.postsState&&(0,j.jsx)(x.Z,{DataList:s.postsList,posts:s.posts}),"CARD_TYPE"===s.postsState&&(0,j.jsx)(v.Z,{DataList:s.postsList,posts:s.posts})]})},N=t(2970);t(1304),t(3541);var b=function(s){var e=(0,a.useState)("LIST_TYPE"),t=(0,i.Z)(e,2),m=t[0],x=t[1],v=(0,o.lr)(),f=(0,i.Z)(v,2),h=f[0],b=(f[1],(0,n.I0)()),P=(0,n.v9)((function(s){return s.board})),E=P.board,S=P.posts,g=P.postsList,L=(0,l.UO)(),_=(L.id,L.boardId),w=(0,l.bx)(),T=h.get("search"),Z=(0,a.useState)(!1),k=(0,i.Z)(Z,2),Y=k[0],C=k[1],y={search:T,page_size:20};function D(){var s=document.documentElement.scrollTop,e=document.documentElement.scrollHeight;s+window.innerHeight+50>=e&&C(!0)}return(0,a.useEffect)((function(){null!==h.get("search")&&(parameter.search=h.get("search")),b((0,c.kc)({id:_,parameters:y})),b((0,c.EJ)({id:_}))}),[_]),(0,a.useEffect)((function(){var s;x(null===E||void 0===E||null===(s=E.data)||void 0===s?void 0:s.view_mode)}),[E]),(0,a.useEffect)((function(){Y&&(b((0,c.Vw)({id:_,parameters:y})),C(!1))}),[Y,g,b,C]),(0,a.useEffect)((function(){return S.count===g.length||window.addEventListener("scroll",D),function(){return window.removeEventListener("scroll",D)}})),"ok"!==S.message&&"ok"!==E.message?(0,j.jsx)("div",{className:"flex-center",children:(0,j.jsx)(r.a,{})}):(0,j.jsxs)("div",{className:"club-home container",children:[(0,j.jsx)("div",{className:"item",children:(0,j.jsx)(p,{board:E,postsState:m,setPostsState:x,posts:S,postsList:g})}),(0,j.jsxs)("div",{className:"item",children:[w.data.profile?(0,j.jsx)(d.Z,{userData:w.data.profile,type:"club"}):(0,j.jsx)(d.Z,{type:"logout"}),(0,j.jsx)("div",{children:(0,j.jsx)(u.Z,{})}),(0,j.jsx)(N.Z,{})]})]})}}}]);
//# sourceMappingURL=7405.c677561a.chunk.js.map