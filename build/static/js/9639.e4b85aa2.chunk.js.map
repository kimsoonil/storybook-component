{"version":3,"file":"static/js/9639.e4b85aa2.chunk.js","mappings":"qJAAO,IAAMA,EAAQ,SAACC,GACpB,GAAqB,kBAAVA,GACLA,GAAS,IAAM,CACjB,IAAMC,EAAMD,EAAME,WACZC,EAAMF,EAAIG,OACVC,GAAQF,EAAM,GAAK,EAAK,EAExBG,EAAYC,KAAKC,MAAML,EAAM,GACnC,OACoB,MAAjBF,EAAIE,EAAM,GAAaF,EAAIQ,MAAM,EAAGJ,GAApC,UAA8CJ,EAAIQ,MAAM,EAAGJ,GAA3D,YAAmEJ,EAAIQ,MAAMJ,EAAKA,EAAM,KAH1E,CAAC,GAAI,IAAK,IAAK,IAAK,KAI1BC,EAEZ,CAEH,OAAON,CACR,EAEYU,EAAa,SAACV,GAAyB,IAAlBW,EAAiB,uDAAN,EAC3C,GAAqB,kBAAVX,EAAoB,CAC7B,GAAc,IAAVA,EACF,MAAO,IAET,IAAMY,EAAI,KACJC,EAAW,CAAC,OAAQ,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAC9DP,EAAYC,KAAKC,MAAMD,KAAKO,IAAId,GAASO,KAAKO,IAAIF,IACxD,MAAM,GAAN,OAAUG,YAAYf,EAAK,SAAGY,EAAKN,IAAWU,QAAQL,IAAtD,YAAoEE,EAASP,GAC9E,CACD,OAAON,CACR,C,wICpBKiB,EAAgB,kBAqFtB,MAnFA,WACE,IAAMC,GAAWC,EAAAA,EAAAA,MAKjB,GAA4BC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,YAAYC,IAA7B,IAAhCC,GAAIC,OAAZ,OAAsB,EAAtB,EAEMC,GAAYN,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMM,eAAeD,SAAhC,IACxBE,GAAYR,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMM,eAAeE,gBAAhC,KAW9BC,EAAAA,EAAAA,kBAAgB,WAKd,OAJIL,GACFP,GAASa,EAAAA,EAAAA,IAAqB,CAAEP,GAAIC,KAG/B,WACLP,GAASc,EAAAA,EAAAA,MACV,CACF,GAAE,CAACP,IAEJ,IAAMQ,GAAiBC,EAAAA,EAAAA,UACrB,iBAAM,CACJ,CAAEC,MAAO,SAAUC,OAAOrC,EAAAA,EAAAA,GAAK,OAAC2B,QAAD,IAACA,OAAD,EAACA,EAAWW,YAAaC,OAAOvC,EAAAA,EAAAA,GAAK,OAAC2B,QAAD,IAACA,OAAD,EAACA,EAAWa,mBAChF,CAAEJ,MAAO,QAASC,OAAOrC,EAAAA,EAAAA,GAAK,OAAC2B,QAAD,IAACA,OAAD,EAACA,EAAWc,YAAaF,OAAOvC,EAAAA,EAAAA,GAAK,OAAC2B,QAAD,IAACA,OAAD,EAACA,EAAWe,mBAC/E,CAAEN,MAAO,WAAYC,OAAOrC,EAAAA,EAAAA,GAAK,OAAC2B,QAAD,IAACA,OAAD,EAACA,EAAWgB,eAAgBJ,OAAOvC,EAAAA,EAAAA,GAAK,OAAC2B,QAAD,IAACA,OAAD,EAACA,EAAWiB,sBACrF,CAAER,MAAO,UAAWC,OAAOrC,EAAAA,EAAAA,GAAK,OAAC2B,QAAD,IAACA,OAAD,EAACA,EAAWkB,cAAeN,OAAOvC,EAAAA,EAAAA,GAAK,OAAC2B,QAAD,IAACA,OAAD,EAACA,EAAWmB,qBAJrF,GAMA,CAACnB,IAGGoB,GAAWZ,EAAAA,EAAAA,UACf,iBAAM,CACJ,CAAEC,MAAO,aAAcY,KAAK,0CAA4CC,KAAM,cAC9E,CAAEb,MAAO,SAAUY,KAAK,+DAAiEC,KAAM,UAC/F,CAAEb,MAAO,UAAWY,KAAK,yCAAaC,KAAM,WAC5C,CAAEb,MAAO,SAAUY,KAAK,gCAAkCC,KAAM,UAChE,CAAEb,MAAO,cAAeY,KAAK,mDAAqDC,KAAM,eACxF,CAAEb,MAAO,cAAeY,KAAK,iCAAmCC,KAAM,eACtE,CAAEb,MAAO,SAAUY,KAAK,wCAA0CC,KAAM,UACxE,CAAEb,MAAO,YAAaY,KAAK,yCAA2CC,KAAM,aAR9E,GAUA,IAGF,OAAIpB,EACK,MAIP,iBAAKqB,UAAS,UAAKhC,GAAnB,WACE,iBAAKgC,UAAS,UAAKhC,EAAL,YAAd,WACE,gBAAKgC,UAAS,UAAKhC,EAAL,UAAd,yBAEA,gBAAKgC,UAAS,UAAKhC,EAAL,iBAAd,SACGgB,EAAeiB,KAAI,SAACC,GAAD,OAClB,SAACC,EAAD,CAAiCC,KAAMF,GAAlBA,EAAKhB,MADR,UAMxB,iBAAKc,UAAS,UAAKhC,EAAL,YAAd,WACE,gBAAKgC,UAAS,UAAKhC,EAAL,UAAd,mBAEA,gBAAKgC,UAAS,UAAKhC,EAAL,iBAAd,SACG6B,EAASI,KAAI,SAACC,GAAD,OACZ,SAACG,EAAD,CAA0BD,KAAMF,GAAjBA,EAAKH,KADR,WAOvB,EAID,SAASI,EAAT,GAAmC,IAATC,EAAQ,EAARA,KACxB,OACE,iBAAKJ,UAAS,UAAKhC,EAAL,SAAd,WACE,gBAAKgC,UAAS,UAAKhC,EAAL,eAAd,SAAgDoC,EAAKlB,SAErD,iBAAKc,UAAS,UAAKhC,EAAL,8BAAd,WACE,4BACE,gBAAKgC,UAAS,UAAKhC,EAAL,oBAAd,SAAqDoC,EAAKjB,SAC1D,gBAAKa,UAAS,UAAKhC,EAAL,0BAAd,uBAGF,4BACE,gBAAKgC,UAAS,UAAKhC,EAAL,oBAAd,SAAqDoC,EAAKf,SAC1D,gBAAKW,UAAS,UAAKhC,EAAL,0BAAd,2BAKT,CAED,SAASqC,EAAT,GAA6B,IAATD,EAAQ,EAARA,KACZE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAU,WACdJ,EAAS,GAAD,OAAIE,EAASG,SAASC,MAAM,KAAKpD,MAAM,GAAI,GAAGqD,KAAK,KAAnD,YAA2DT,EAAKL,MACzE,EAED,OACE,iBACEC,UAAS,UAAKhC,EAAL,cACT0C,QAASA,EACTI,UAAW,SAACC,GAAD,MAAkB,UAAVA,EAAEC,IAAkBN,IAAa,CAAC,CAA1C,EACXO,SAAU,EACVC,KAAK,SALP,WAOE,gBAAKlB,UAAS,UAAKhC,EAAL,oBAAd,SAAqDoC,EAAKlB,SAC1D,gBAAKc,UAAS,UAAKhC,EAAL,mBAAd,SAAoDoC,EAAKN,SAG9D,C","sources":["utils/formatter.js","views/Admin/Dashboard.js"],"sourcesContent":["export const numFM = (value) => {\n  if (typeof value === 'number') {\n    if (value >= 1000) {\n      const str = value.toString();\n      const len = str.length;\n      const pos = ((len - 1) % 3) + 1; // 1의 자리\n      const suffixes = ['', 'k', 'm', 'b', 't'];\n      const suffixNum = Math.floor(len - 1);\n      return (\n        (str[len - 1] === '0' ? str.slice(0, pos) : `${str.slice(0, pos)}.${str.slice(pos, pos + 1)}`) +\n        suffixes[suffixNum]\n      );\n    }\n  }\n  return value;\n};\n\nexport const fileSizeFM = (value, decimals = 1) => {\n  if (typeof value === 'number') {\n    if (value === 0) {\n      return '0';\n    }\n    const k = 1024;\n    const suffixes = ['byte', 'kb', 'mb', 'gb', 'tb', 'pb', 'eb', 'zb', 'yb'];\n    const suffixNum = Math.floor(Math.log(value) / Math.log(k));\n    return `${parseFloat((value / k ** suffixNum).toFixed(decimals))} ${suffixes[suffixNum]}`;\n  }\n  return value;\n};\n","import React, { useLayoutEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport 'assets/scss/admin/dashboard.scss';\nimport { useLocation, useNavigate } from 'react-router';\nimport { numFM } from 'utils/formatter';\nimport { getClubDashboardInit, resetDashboardAdmin } from 'redux/idistStore/admin/dashboardAdminSlice';\n\nconst rootClassName = 'admin-dashboard';\n\nfunction Dashboard() {\n  const dispatch = useDispatch();\n\n  // const outlet = useOutletContext();\n  // const clubId = outlet.club.id || 22;\n\n  const { id: clubId = -1 } = useSelector((state) => state.commonAdmin.club);\n\n  const dashboard = useSelector((state) => state.dashboardAdmin.dashboard);\n  const isLoading = useSelector((state) => state.dashboardAdmin.dashboardLoading);\n\n  // commentCount: 0\n  // memberCount: 1\n  // postCount: 0\n  // viewCount: 0\n  // dailyCommentCount: 0\n  // dailyMemberCount: 0\n  // dailyPostCount: 0\n  // dailyViewCount: 0\n\n  useLayoutEffect(() => {\n    if (clubId) {\n      dispatch(getClubDashboardInit({ id: clubId }));\n    }\n\n    return () => {\n      dispatch(resetDashboardAdmin());\n    };\n  }, [clubId]);\n\n  const statisticsList = useMemo(\n    () => [\n      { title: 'Visits', total: numFM(dashboard?.view_count), today: numFM(dashboard?.daily_view_count) },\n      { title: 'Posts', total: numFM(dashboard?.post_count), today: numFM(dashboard?.daily_post_count) },\n      { title: 'Comments', total: numFM(dashboard?.comment_count), today: numFM(dashboard?.daily_comment_count) },\n      { title: 'Members', total: numFM(dashboard?.member_count), today: numFM(dashboard?.daily_member_count) }\n    ],\n    [dashboard]\n  );\n\n  const menuList = useMemo(\n    () => [\n      { title: 'Statistics', desc: `Plan your club's future with statistics`, path: 'statistics' },\n      { title: 'Boards', desc: `Manage bulletin boards and bulletin board groups in the menu`, path: 'boards' },\n      { title: 'Reports', desc: `신고 설명 필요`, path: 'reports' },\n      { title: 'Member', desc: `Manage your staff and members`, path: 'member' },\n      { title: 'Permissions', desc: `Manage staff privileges for convenient operation`, path: 'permissions' },\n      { title: 'Information', desc: `Manage your club's information`, path: 'information' },\n      { title: 'Design', desc: `Design your club to attract attention`, path: 'design' },\n      { title: 'Operation', desc: `Make important decisions for your club`, path: 'operation' }\n    ],\n    []\n  );\n\n  if (isLoading) {\n    return null;\n  }\n\n  return (\n    <div className={`${rootClassName}`}>\n      <div className={`${rootClassName}-section`}>\n        <div className={`${rootClassName}-title`}>Statistics</div>\n\n        <div className={`${rootClassName}-item-wrapper`}>\n          {statisticsList.map((item) => (\n            <StatisticsItem key={item.title} data={item} />\n          ))}\n        </div>\n      </div>\n\n      <div className={`${rootClassName}-section`}>\n        <div className={`${rootClassName}-title`}>Menu</div>\n\n        <div className={`${rootClassName}-item-wrapper`}>\n          {menuList.map((item) => (\n            <MenuItem key={item.path} data={item} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard;\n\nfunction StatisticsItem({ data }) {\n  return (\n    <div className={`${rootClassName}-item`}>\n      <div className={`${rootClassName}-item-title`}>{data.title}</div>\n\n      <div className={`${rootClassName}-statistic-value-container`}>\n        <div>\n          <div className={`${rootClassName}-statistic-value`}>{data.total}</div>\n          <div className={`${rootClassName}-statistic-value-label`}>Total</div>\n        </div>\n\n        <div>\n          <div className={`${rootClassName}-statistic-value`}>{data.today}</div>\n          <div className={`${rootClassName}-statistic-value-label`}>Today</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction MenuItem({ data }) {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const onClick = () => {\n    navigate(`${location.pathname.split('/').slice(0, -1).join('/')}/${data.path}`);\n  };\n\n  return (\n    <div\n      className={`${rootClassName}-menu-item`}\n      onClick={onClick}\n      onKeyDown={(e) => (e.key === 'Enter' ? onClick(e) : {})}\n      tabIndex={0}\n      role=\"button\"\n    >\n      <div className={`${rootClassName}-menu-item-title`}>{data.title}</div>\n      <div className={`${rootClassName}-menu-item-desc`}>{data.desc}</div>\n    </div>\n  );\n}\n"],"names":["numFM","value","str","toString","len","length","pos","suffixNum","Math","floor","slice","fileSizeFM","decimals","k","suffixes","log","parseFloat","toFixed","rootClassName","dispatch","useDispatch","useSelector","state","commonAdmin","club","id","clubId","dashboard","dashboardAdmin","isLoading","dashboardLoading","useLayoutEffect","getClubDashboardInit","resetDashboardAdmin","statisticsList","useMemo","title","total","view_count","today","daily_view_count","post_count","daily_post_count","comment_count","daily_comment_count","member_count","daily_member_count","menuList","desc","path","className","map","item","StatisticsItem","data","MenuItem","navigate","useNavigate","location","useLocation","onClick","pathname","split","join","onKeyDown","e","key","tabIndex","role"],"sourceRoot":""}