"use strict";(self.webpackChunkcmp=self.webpackChunkcmp||[]).push([[9646],{68727:function(s,e,t){var i=t(72791),n=t(59434),a=t(81806),l=t(79802),c=t(16871),o=(t(51304),t(33541),t(53169)),d=t(80184);e.Z=function(s){var e=(0,n.I0)(),r=(0,c.s0)(),u=(0,n.v9)((function(s){return s.post})).posts;return(0,i.useEffect)((function(){e((0,l.PV)({parameters:""}))}),[]),"ok"!==u.message?(0,d.jsx)("div",{className:"flex-center",children:(0,d.jsx)(a.a,{})}):u.data.length?(0,d.jsxs)("div",{className:"club-home-content hotPosts",children:[(0,d.jsxs)("div",{className:"flex-between",children:[(0,d.jsx)("div",{className:"side-box-title",children:"Hot Posts"}),(0,d.jsx)("div",{className:"see-all",onClick:function(){return r()},children:"See all"})]}),(0,d.jsx)("div",{className:"hotPosts-content",children:u.data.map((function(s,e){var i;if(e<6)return(0,d.jsxs)("div",{className:"hotPosts-content-list flex-between",children:[(0,d.jsxs)("div",{className:"",children:[(0,d.jsx)("div",{className:"hotPosts-content-name",children:null===s||void 0===s||null===(i=s.user)||void 0===i?void 0:i.username}),(0,d.jsx)("div",{className:"hotPosts-content-title",children:null===s||void 0===s?void 0:s.title}),(0,d.jsxs)("div",{className:"hotPosts-content-info",children:[(0,d.jsx)("img",{src:t(63419)}),s.view_count," ",(0,o.M)(s.created)]})]}),(0,d.jsx)("div",{children:null!==s&&void 0!==s&&s.thumbnail_image_url?(0,d.jsx)("img",{src:s.thumbnail_image_url}):(0,d.jsx)("div",{})})]},e)}))})]}):(0,d.jsx)("div",{className:"club-content-nodata"})}},72141:function(s,e,t){t.r(e),t.d(e,{default:function(){return b}});var i=t(70885),n=t(72791),a=t(59434),l=t(4721),c=t(16871),o=t(23922),d=t(81806),r=t(95067),u=t(68727),v=t(91900),m=t(63131),x=t(89454),h=t(66627),f=t(6031),j=t(80184);var p=function(s){var e,a,l,c,o=(0,n.useState)(!1),d=(0,i.Z)(o,2),r=d[0],u=d[1];return(0,j.jsxs)("div",{className:"club-home-content ",children:[(0,j.jsxs)("div",{className:"flex-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"club-home-title",children:null===(e=s.board)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.title}),(0,j.jsx)("div",{className:"club-home-description",children:null===(l=s.board)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.description})]}),(0,j.jsxs)("div",{className:"flex-center  relative",children:[(0,j.jsx)("input",{type:"text",className:"post-fliter"}),(0,j.jsx)("div",{className:"fliter-icon ",onClick:function(){return u(!r)},children:(0,j.jsx)("img",{src:t(56795),alt:""})}),(0,j.jsx)("div",{className:"fliter-position",style:{display:r?"flex":"none"},children:(0,j.jsx)(h.Z,{doneFuc:function(){return u(!r)}})})]})]}),(0,j.jsxs)("div",{className:"flex-between",children:[(0,j.jsx)("div",{className:"club-list-tag",children:(0,j.jsxs)("div",{className:"list-filter flex-center",children:[(0,j.jsx)("div",{className:"flex-center active",children:"Hot"}),(0,j.jsx)("div",{className:"flex-center",children:"Popular"}),(0,j.jsx)("div",{className:"flex-center",children:"New"})]})}),(0,j.jsxs)("div",{className:"flex-center",children:[(0,j.jsxs)("div",{className:"feed",children:["New feed",(0,j.jsx)(f.Z,{id:"newFeed"})]}),(0,j.jsxs)("div",{className:"board-state",children:[(0,j.jsx)("div",{className:"album "+("ALBUM_TYPE"===s.postsState&&"active"),onClick:function(){s.setPostsState("ALBUM_TYPE")}}),(0,j.jsx)("div",{className:"list "+("LIST_TYPE"===s.postsState&&"active"),onClick:function(){s.setPostsState("LIST_TYPE")}}),(0,j.jsx)("div",{className:"card "+("CARD_TYPE"===s.postsState&&"active"),onClick:function(){s.setPostsState("CARD_TYPE")}})]})]})]}),"ALBUM_TYPE"===s.postsState&&(0,j.jsx)(v.Z,{DataList:s.postsList,posts:s.posts}),"LIST_TYPE"===s.postsState&&(0,j.jsx)(m.Z,{DataList:s.postsList,posts:s.posts}),"CARD_TYPE"===s.postsState&&(0,j.jsx)(x.Z,{DataList:s.postsList,posts:s.posts})]})},N=t(62970);t(51304),t(33541);var b=function(s){var e,t=(0,n.useState)("LIST_TYPE"),v=(0,i.Z)(t,2),m=v[0],x=v[1],h=(0,o.lr)(),f=(0,i.Z)(h,2),b=f[0],P=(f[1],(0,a.I0)()),E=(0,a.v9)((function(s){return s.board})),g=E.board,S=E.posts,w=E.postsList,L=(0,c.UO)(),_=(L.id,L.boardId),T=(0,c.bx)(),Z=b.get("search"),k=(0,n.useState)(!1),C=(0,i.Z)(k,2),Y=C[0],D=C[1],I={search:Z,page_size:20};function A(){var s=document.documentElement.scrollTop,e=document.documentElement.scrollHeight;s+window.innerHeight+50>=e&&D(!0)}return console.log("postsList",w),(0,n.useEffect)((function(){null!==b.get("search")&&(parameter.search=b.get("search")),P((0,l.kc)({id:_,parameters:I})),P((0,l.EJ)({id:_}))}),[_]),(0,n.useEffect)((function(){var s;x(null===g||void 0===g||null===(s=g.data)||void 0===s?void 0:s.view_mode)}),[g]),(0,n.useEffect)((function(){Y&&(P((0,l.Vw)({id:_,parameters:I})),D(!1))}),[Y,w,P,D]),(0,n.useEffect)((function(){return S.count===w.length||window.addEventListener("scroll",A),function(){return window.removeEventListener("scroll",A)}})),"ok"!==S.message&&"ok"!==g.message?(0,j.jsx)("div",{className:"flex-center",children:(0,j.jsx)(d.a,{})}):(0,j.jsxs)("div",{className:"club-home container",children:[(0,j.jsx)("div",{className:"item",children:(0,j.jsx)(p,{board:g,postsState:m,setPostsState:x,posts:S,postsList:w})}),(0,j.jsxs)("div",{className:"item",children:[null!==T&&void 0!==T&&null!==(e=T.data)&&void 0!==e&&e.user?(0,j.jsx)(r.Z,{userData:T.data,type:"club"}):(0,j.jsx)(r.Z,{type:"logout"}),(0,j.jsx)("div",{children:(0,j.jsx)(u.Z,{})}),(0,j.jsx)(N.Z,{})]})]})}}}]);
//# sourceMappingURL=9646.42210c4e.chunk.js.map