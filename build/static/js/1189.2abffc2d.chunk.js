"use strict";(self.webpackChunkcmp=self.webpackChunkcmp||[]).push([[1189],{9993:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(4165),i=n(5861),a=n(1413),s=n(885),o=n(2791),c=n(1134),d=n(1188),u=n(1694),l=n.n(u),p=n(9434),h=n(4313),f=n(8746),m=n(6156),v=n(2702),g=n(184);function x(e){var t=e.isConfirm,n=e.reStartCountDown,r=e.onComplete,i=e.timeLimit,a=void 0===i?3e5:i,s=(0,o.useRef)();return(0,o.useEffect)((function(){console.log("reStartCountDown"),console.log(n),s.current.start()}),[n]),(0,o.useEffect)((function(){t&&s.current.stop()}),[t]),(0,g.jsx)(v.ZP,{date:Date.now()+a,autoStart:!1,ref:s,intervalDelay:0,onComplete:r,renderer:function(e){var r=e.minutes,i=e.seconds;return n>0&&!t&&(0,g.jsxs)("span",{children:[r,":",i]})}})}var w=o.memo(x),b=n(5463);function y(e){var t=e.isConfirm,n=e.email;return(0,g.jsxs)("div",{className:l()("form_wrap","msg","btn_set_under","success",{hidden:!t}),children:[(0,g.jsxs)("span",{className:"form_cell form_input input_md",children:[(0,g.jsx)("input",{type:"text",title:"input default",id:"input_text","aria-invalid":"false",defaultValue:n}),(0,g.jsx)("div",{className:"dot success",children:(0,g.jsx)("span",{className:"a11y",children:"\uc131\uacf5"})})]}),(0,g.jsx)("span",{className:"success_txt msg",id:"input_alert",children:"Authentication completed!"})]})}var _=function(e){var t=e.editType,n=void 0===t?b.Yh:t,u=e.verifyType,v=e.formWrapClass,x=(0,o.useState)(!1),_=(0,s.Z)(x,2),j=_[0],C=_[1],R=(0,o.useState)(!0),N=(0,s.Z)(R,2),L=N[0],S=N[1],k=(0,o.useState)(""),E=(0,s.Z)(k,2),O=E[0],Z=E[1],I=(0,o.useState)(0),q=(0,s.Z)(I,2),P=q[0],D=q[1],A=(0,o.useRef)(),U=(0,p.I0)(),V=b.FE,T=(0,p.v9)((function(e){return(0,a.Z)({},e.authCode)})).isConfirm,z=(0,c.cI)(),F=z.register,H=z.trigger,B=z.getValues,W=z.setValue,Y=z.control,G=z.clearErrors,$=z.formState.errors,K=(0,c.qo)({control:Y,name:"code",defaultValue:""}),M=(0,c.qo)({control:Y,name:V,defaultValue:""}),Q=(0,d.$)().t,J=(0,o.useCallback)((function(){U((0,f.ZQ)({email:B("email"),verify_source:b.TN,verify_type:u,code:B("code")}))}),[K]),X=(0,o.useCallback)((function(){W("code",""),U((0,f.mc)())}),[]),ee=function(){console.log("reStartCountDown",P);var e="The verification email has been ".concat(P>0?"re-":"","sent.");U((0,m.U)({type:b.bD,contents:e})),C(!0),S(!1),X(),D(P+1),U((0,h.fN)({email:B(V),verify_source:b.TN,verify_type:u}))},te=(0,o.useCallback)((function(){C(!1),G(),V===b.FE&&W(V,"")}),[]);return(0,o.useEffect)((function(){U((0,f.mc)()),U((0,h.mc)())}),[]),(0,o.useEffect)((function(){Z("superclub@ccr.co.kr")}),[V]),(0,o.useEffect)((function(){L||setTimeout((function(){S(!0)}),b.Yl)}),[L]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:l()("form_wrap","msg","btn_set","success",{account:v},{hidden:T}),children:[(0,g.jsxs)("span",{className:l()("form_cell form_input input_md",{default:!v},"between"),children:[(0,g.jsxs)("div",{className:"input_set",children:[(0,g.jsx)("input",(0,a.Z)((0,a.Z)({id:V,type:"text",placeholder:O,"aria-invalid":j},F(V,{required:Q("validation.require",{require:V}),pattern:{value:/\S+@\S+\.\S+/,message:Q("validation.emailauth.email")}})),{},{disabled:j||T||n===b.BK})),M&&(0,g.jsx)("button",{type:"button",className:"btn_reset",onClick:te,children:(0,g.jsx)("span",{className:"a11y",children:"\uc0ad\uc81c"})})]}),(0,g.jsx)("button",{type:"button",className:"btn primary button_md",onClick:(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(V);case 2:e.sent&&ee();case 4:case"end":return e.stop()}}),e)}))),disabled:!M||!L,children:(0,g.jsx)("span",{children:Q("label.emailauth.auth")})})]}),$.email&&(0,g.jsx)("span",{className:"error_msg msg",id:"input_error",children:$.email.message})]}),(0,g.jsx)("div",{className:l()("form_wrap","msg","btn_set","success",{hidden:!j||T}),children:(0,g.jsxs)("span",{className:"form_cell form_input input_md between",children:[(0,g.jsxs)("div",{className:"input_set",children:[(0,g.jsx)("input",(0,a.Z)({id:"code",type:"code",ref:A,placeholder:"Auth Code",maxLength:b.wD},F("code",{required:Q("validation.require",{require:"Auth Code"})}))),(0,g.jsx)("span",{className:"guide_text time",children:(0,g.jsx)("span",{children:(0,g.jsx)(w,{isConfirm:T,reStartCountDown:P,onComplete:X,timeLimit:b.HV})})})]}),(0,g.jsx)("button",{type:"button",className:"btn primary button_md",onClick:function(){H("code"),J()},disabled:(null===K||void 0===K?void 0:K.length)!==b.wD,children:(0,g.jsx)("span",{children:"Confirm"})})]})}),(0,g.jsx)(y,{isConfirm:T,email:M})]})}},68:function(e,t,n){var r=n(1413),i=n(885),a=n(2791),s=n(1134),o=n(1188),c=n(1694),d=n.n(c),u=n(5303),l=n(184);t.Z=function(e){var t,n,c=e.control,p=e.register,h=e.trigger,f=e.errors,m=e.email,v=void 0===m?"":m,g=e.phoneNumber,x=void 0===g?"":g,w=e.isDisabled,b=void 0!==w&&w,y=(0,a.useState)(!1),_=(0,i.Z)(y,2),j=_[0],C=_[1],R=(0,a.useState)(!1),N=(0,i.Z)(R,2),L=N[0],S=N[1],k=(0,s.qo)({control:c,name:"password",defaultValue:""}),E=(0,s.qo)({control:c,name:"cfrPassword",defaultValue:""}),O=(0,o.$)().t,Z=O("label.userinfo.pwd");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:d()("form_wrap",{msg:f.password||k&&!f.password},{error:f.password},{success:k&&!f.password}),children:[(0,l.jsxs)("span",{className:"form_cell form_input input_lg",children:[(0,l.jsx)("input",(0,r.Z)((0,r.Z)({type:j?"text":"password","aria-invalid":"false",placeholder:"Password"},p("password",{required:O("validation.require",{require:Z}),minLength:{value:8,message:O("validation.userinfo.password.invalid")},maxLength:{value:16,message:O("validation.userinfo.password.invalid")},validate:{pwdVal1:function(e){return!/(\w)\1\1/.test(e)||O("validation.userinfo.password.invalid")},pwdVal2:function(e){return[/[a-z]/,/[A-Z]/,/[0-9]/,/[@$!%*?&]/,/[^a-zA-Z0-9]/].every((function(t){return t.test(e)}))||"must include lower, upper, number, and special chars"},pwdVal3:function(e){return function(e){for(var t=[],n=0;n<x.length-2;n+=1)t.push(x.substring(n,n+3));for(var r=0;r<v.length-2;r+=1)t.push(v.substring(r,r+3));for(var i=0;i<t.length-1;i+=1)if(-1!==e.indexOf(t[i]))return!1;return!0}(e)||"email or phonenumber error"}}})),{},{onBlur:function(){h("password"),E&&h("cfrPassword")},disabled:b})),(0,l.jsx)(u.Z,{status:j,statusFunc:function(){return C(!j)}})]}),f.password&&(0,l.jsx)("span",{className:"error_txt msg",children:null===(t=f.password)||void 0===t?void 0:t.message})]}),(0,l.jsxs)("div",{className:d()("form_wrap",{msg:f.cfrPassword||k&&!f.cfrPassword},{error:f.cfrPassword},{success:k&&!f.cfrPassword}),children:[(0,l.jsxs)("span",{className:"form_cell form_input input_lg",children:[(0,l.jsx)("input",(0,r.Z)((0,r.Z)({type:L?"text":"password","aria-invalid":"false",placeholder:"Confirm Password"},p("cfrPassword",{validate:function(e){return e===k||O("validation.userinfo.password",{context:"confirmPwd"})}})),{},{disabled:b,onBlur:function(){k&&h("password"),h("cfrPassword")}})),(0,l.jsx)(u.Z,{status:L,statusFunc:function(){return S(!L)}})]}),f.cfrPassword&&(0,l.jsx)("span",{className:"error_txt msg",children:null===(n=f.cfrPassword)||void 0===n?void 0:n.message})]})]})}},5303:function(e,t,n){n(2791);var r=n(1694),i=n.n(r),a=n(184);t.Z=function(e){var t=e.status,n=e.statusFunc;return(0,a.jsx)("button",{type:"button",className:i()("btn_input","eyes",{show:t}),onClick:n,children:(0,a.jsx)("span",{className:"a11y",children:"\ube44\ubc00\ubc88\ud638 \ud45c\uc2dc"})})}},2771:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(4165),i=n(5861),a=n(2791),s=n(4569),o=n.n(s),c=n(2007),d=n.n(c);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){var t,n;function r(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(l(t)),t.handleErrored=t.handleErrored.bind(l(t)),t.handleChange=t.handleChange.bind(l(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(l(t)),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},i.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},i.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},i.executeAsync=function(){var e=this;return new Promise((function(t,n){e.executionResolve=t,e.executionReject=n,e.execute()}))},i.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},i.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},i.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},i.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},i.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},i.componentDidMount=function(){this.explicitRender()},i.componentDidUpdate=function(){this.explicitRender()},i.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},i.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(e)}),5e3)},i.handleRecaptchaRef=function(e){this.captcha=e},i.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return a.createElement("div",u({},t,{ref:this.handleRecaptchaRef}))},r}(a.Component);p.displayName="ReCAPTCHA",p.propTypes={sitekey:d().string.isRequired,onChange:d().func,grecaptcha:d().object,theme:d().oneOf(["dark","light"]),type:d().oneOf(["image","audio"]),tabindex:d().number,onExpired:d().func,onErrored:d().func,size:d().oneOf(["compact","normal","invisible"]),stoken:d().string,hl:d().string,badge:d().oneOf(["bottomright","bottomleft","inline"])},p.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var h=n(2110),f=n.n(h);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var v={},g=0;var x="onloadcallback";var w,b,y=(w=function(){return"https://"+(("undefined"!==typeof window&&window.recaptchaOptions||{}).useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+x+"&render=explicit"},b=(b={callbackName:x,globalName:"grecaptcha"})||{},function(e){var t=e.displayName||e.name||"Component",n=function(t){var n,r;function i(e,n){var r;return(r=t.call(this,e,n)||this).state={},r.__scriptURL="",r}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var s=i.prototype;return s.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+g++),this.__scriptLoaderID},s.setupScriptURL=function(){return this.__scriptURL="function"===typeof w?w():w,this.__scriptURL},s.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,(function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)}))},s.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=v[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[b.callbackName]},s.componentDidMount=function(){var e=this,t=this.setupScriptURL(),n=this.asyncScriptLoaderGetScriptLoaderID(),r=b,i=r.globalName,a=r.callbackName,s=r.scriptId;if(i&&"undefined"!==typeof window[i]&&(v[t]={loaded:!0,observers:{}}),v[t]){var o=v[t];return o&&(o.loaded||o.errored)?void this.asyncScriptLoaderHandleLoad(o):void(o.observers[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var c={};c[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)},v[t]={loaded:!1,observers:c};var d=document.createElement("script");for(var u in d.src=t,d.async=!0,b.attributes)d.setAttribute(u,b.attributes[u]);s&&(d.id=s);var l=function(e){if(v[t]){var n=v[t].observers;for(var r in n)e(n[r])&&delete n[r]}};a&&"undefined"!==typeof window&&(window[a]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),d.onload=function(){var e=v[t];e&&(e.loaded=!0,l((function(t){return!a&&(t(e),!0)})))},d.onerror=function(){var e=v[t];e&&(e.errored=!0,l((function(t){return t(e),!0})))},document.body.appendChild(d)},s.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===b.removeOnUnmount)for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n+=1)t[n].src.indexOf(e)>-1&&t[n].parentNode&&t[n].parentNode.removeChild(t[n]);var r=v[e];r&&(delete r.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===b.removeOnUnmount&&delete v[e])},s.render=function(){var t=b.globalName,n=this.props,r=(n.asyncScriptOnLoad,n.forwardedRef),i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["asyncScriptOnLoad","forwardedRef"]);return t&&"undefined"!==typeof window&&(i[t]="undefined"!==typeof window[t]?window[t]:void 0),i.ref=r,(0,a.createElement)(e,i)},i}(a.Component),r=(0,a.forwardRef)((function(e,t){return(0,a.createElement)(n,m({},e,{forwardedRef:t}))}));return r.displayName="AsyncScriptLoader("+t+")",r.propTypes={asyncScriptOnLoad:d().func},f()(r,e)})(p),_=y,j=n(184);var C=function(e){var t=e.setIsCapcha,n=(0,a.useRef)(null),s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(i){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i&&t(!0),a=n.current.getValue(),e.next=4,o().post("".concat("http://localhost:2000","/post"),{token:a}).then((function(e){console.log(e.data),e.data&&t(!0)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,j.jsx)("div",{className:"login_captcha",children:(0,j.jsx)(_,{sitekey:"6LdnQYgUAAAAAIifAuWAVf8qO5LPKBSkqqwxYhzZ",ref:n,size:"normal",onChange:s})})}}}]);
//# sourceMappingURL=1189.2abffc2d.chunk.js.map